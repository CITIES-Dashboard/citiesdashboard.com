{"version":3,"file":"static/js/835.a37bc9a4.chunk.js","mappings":"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","sources":["Pages/Screens/BlackScreen.jsx","Pages/Screens/FoodWaste/FoodWasteColorScheme.jsx","Pages/Screens/FoodWaste/FoodWasteContext.jsx","Pages/Screens/FoodWaste/LatestFoodWaste.jsx","Pages/Screens/FoodWaste/RecentHistoricalGraph.jsx","Pages/Screens/FoodWaste/ScreenUtils.jsx","Pages/Screens/Screen.jsx"],"sourcesContent":["import { Grid } from \"@mui/material\"\n\nconst BlackScreen = () => {\n    return (\n        <Grid\n            container\n            alignContent=\"stretch\"\n            alignItems=\"stretch\"\n            height=\"100vh\"\n            sx={{\n                overflow: 'hidden',\n                background: \"black\",\n            }}\n        />\n    )\n}\n\nexport default BlackScreen; ","import { colors } from \"@mui/material\";\n\nconst lightShade = 600;\n\nconst FoodWasteColorScheme = {\n    \"low\": colors.green[lightShade],\n    \"medium\": \"#ffb600\",\n    \"high\": colors.red[lightShade]\n};\n\nexport default FoodWasteColorScheme;\nexport const GREY_TEXT_CLOR = colors.grey.A400;\n","// import libraries\nimport { useState, createContext, useMemo, useEffect, useContext } from 'react';\nimport { fetchDataFromSheet } from '../../../Graphs/GoogleChartHelper';\nimport { GoogleContext } from '../../../ContextProviders/GoogleContext';\nimport data from \"../../../temp_database.json\";\n\n// create context\nexport const FoodWasteContext = createContext();\n\n// context provider\nexport function FoodWasteProvider({ children }) {\n  const project = useMemo(\n    () => data.find(p => p.id === \"food-waste\"),\n    [data]\n  );\n\n  const { google } = useContext(GoogleContext);\n  const [historical, setHistorical] = useState();\n  const [lastWeek, setLastWeek] = useState();\n  const [lastSemester, setLastSemester] = useState();\n  const [dailyGoal, setDailyGoal] = useState();\n\n  useEffect(() => {\n    if (!google) return;\n    // Fetch daily food waste goal\n    fetchDataFromSheet({\n      chartData: {\n        ...project.screen.dailyFoodWasteGoal,\n        sheetId: project.sheetId\n      },\n      google: google\n    })\n      .then(response => {\n        setDailyGoal(\n          Math.round(response?.Ta?.Wf?.[0]?.c?.[0]?.v)\n        );\n      })\n      .catch(error => {\n        console.log(error);\n      });\n\n    // Fetch last month food waste data\n    fetchDataFromSheet({\n      chartData: {\n        ...project.screen.historical,\n        sheetId: project.sheetId\n      },\n      google: google\n    })\n      .then(response => {\n        const data = response?.Ta?.Wf || [];\n        const historical = data.map(item => ({\n          timestamp: new Date(item?.c?.[0]?.v),\n          value: Math.round(item?.c?.[1]?.v)\n        }));\n        setHistorical(historical);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n\n    // Fetch last week food waste\n    fetchDataFromSheet({\n      chartData: {\n        ...project.screen.lastWeek,\n        sheetId: project.sheetId\n      }, google: google\n    })\n      .then(response => {\n        setLastWeek(response?.Ta?.Wf?.[0]?.c?.[0]?.v);\n      })\n      .catch(error => {\n        console.log(error);\n      });\n  }, [google]);\n\n  // Memoize the value to be provided to avoid unnecessary re-renders\n  const providerValue = useMemo(() => ({\n    historical, lastWeek, lastSemester, dailyGoal\n  }), [historical, lastWeek, lastSemester, dailyGoal]);\n\n  return (\n    <FoodWasteContext.Provider value={providerValue}>\n      {children}\n    </FoodWasteContext.Provider>\n  );\n}\n","import { useContext } from \"react\";\nimport { Grid, Stack, Typography } from \"@mui/material\";\nimport FoodWasteColorScheme, { GREY_TEXT_CLOR } from \"./FoodWasteColorScheme\";\nimport { ScreenContext } from \"../../../ContextProviders/ScreenContext\";\nimport { Textfit } from \"react-textfit\";\nimport { FoodWasteContext } from \"./FoodWasteContext\";\n\nconst FOOD_WASTE_IN_KG_TO_MEAL_RATIO = 2;\n\nconst LatestFoodWaste = () => {\n    const { isLayoutReversed } = useContext(ScreenContext);\n    const { historical, lastWeek, lastSemester, dailyGoal } = useContext(FoodWasteContext);\n    const latestFoodWaste = historical?.[0] || { timestamp: null, value: null };\n\n    const colorForLatestFoodWaste = (() => {\n        if (!latestFoodWaste.value || !dailyGoal) return null;\n\n        const ratio = latestFoodWaste.value / dailyGoal;\n\n        if (ratio < 0.9) return FoodWasteColorScheme.low;\n        if (ratio <= 1.1) return FoodWasteColorScheme.medium;\n        return FoodWasteColorScheme.high;\n    })();\n\n    return (\n        <Stack\n            direction=\"column\"\n            justifyContent=\"space-between\"\n            height=\"100%\"\n            textAlign=\"center\"\n        >\n            <Stack py={3} px={3} sx={{ background: \"unset\" }}>\n                <Typography fontWeight=\"500\" color=\"white\">\n                    <Textfit mode=\"single\">\n                        GOAL: Keep Daily Food Waste Under\n                    </Textfit>\n                </Typography>\n\n                <Typography variant=\"h2\" color={FoodWasteColorScheme.low}>\n                    {dailyGoal || \"--\"} kg\n                </Typography>\n            </Stack>\n\n            <Stack py={3} px={3} flex={1} justifyContent=\"space-between\">\n                <Stack flex={1} justifyContent=\"space-evenly\"\n                    sx={{\n                        '& .flashingRed': {\n                            '& .MuiTypography-root ': {\n                                color: `${FoodWasteColorScheme.high} !important`,\n                                opacity: 0.8\n                            },\n                            color: `${FoodWasteColorScheme.high} !important`,\n                            animation: 'flashingRed 3s cubic-bezier(0.455, 0.03, 0.515, 0.955) infinite',\n                            '@keyframes flashingRed': {\n                                '0%': {\n                                    opacity: 1\n                                },\n                                '50%': {\n                                    opacity: 0.5\n                                },\n                                '100%': {\n                                    opacity: 1\n                                }\n                            }\n                        }\n                    }}\n                >\n                    {\n                        latestFoodWaste.value ?\n                            <Stack px={2} alignItems=\"center\">\n                                <Stack width=\"100%\" direction=\"row\" alignItems=\"baseline\">\n                                    <Typography\n                                        flex={1}\n                                        color={colorForLatestFoodWaste}\n                                        className={`${colorForLatestFoodWaste === FoodWasteColorScheme.high && \"flashingRed\"}`}\n                                    >\n                                        <Textfit mode=\"single\">\n                                            {latestFoodWaste.value} kg\n                                            =&nbsp;\n                                            {latestFoodWaste.value * FOOD_WASTE_IN_KG_TO_MEAL_RATIO}\n                                        </Textfit>\n                                    </Typography>\n                                    <Typography\n                                        variant=\"h4\"\n                                        color={colorForLatestFoodWaste}\n                                        className={`${colorForLatestFoodWaste === FoodWasteColorScheme.high && \"flashingRed\"}`}\n                                    >&nbsp;meals*</Typography>\n                                </Stack>\n\n                                <Typography width=\"75%\" color={GREY_TEXT_CLOR}>\n                                    <Textfit mode=\"single\">\n                                        thrown in the garbage\n                                    </Textfit>\n                                </Typography>\n                            </Stack>\n                            :\n                            <Typography variant=\"h1\" color={GREY_TEXT_CLOR}>--</Typography>\n                    }\n\n                    <Typography variant=\"h4\" color={GREY_TEXT_CLOR}>\n                        {latestFoodWaste.timestamp?.toLocaleDateString(\"en-US\", {\n                            year: \"numeric\",\n                            month: \"long\",\n                            day: \"numeric\",\n                        }) || \"--\"}\n                    </Typography>\n\n                    <Grid container item>\n                        {latestFoodWaste.value && lastWeek && (\n                            <Grid item xs={6}>\n                                <FoodWasteComparison\n                                    current={latestFoodWaste.value}\n                                    comparedWith={lastWeek}\n                                    periodLabel=\"last week avg\"\n                                />\n                            </Grid>\n                        )}\n\n                        {latestFoodWaste.value && lastSemester && (\n                            <Grid item xs={6}>\n\n                                <FoodWasteComparison\n                                    current={latestFoodWaste.value}\n                                    comparedWith={lastSemester}\n                                    periodLabel=\"last semester avg\"\n                                />\n                            </Grid>\n                        )}\n                    </Grid>\n                </Stack >\n\n                <Typography variant=\"h6\" color=\"white\" textAlign={isLayoutReversed ? \"right\" : \"left\"}>*1 meal ~ 0.5 kg food waste</Typography>\n            </Stack>\n        </Stack >\n\n    );\n}\n\nconst FoodWasteComparison = ({ current, comparedWith, periodLabel }) => {\n    if (current == null || comparedWith == null) return null;\n\n    const currentMeals = Math.round(current * FOOD_WASTE_IN_KG_TO_MEAL_RATIO);\n    const comparedMeals = Math.round(comparedWith * FOOD_WASTE_IN_KG_TO_MEAL_RATIO);\n    const diff = comparedMeals - currentMeals; // positive means “current is less”\n\n    const color =\n        current < comparedWith\n            ? FoodWasteColorScheme.low\n            : current === comparedWith\n                ? FoodWasteColorScheme.medium\n                : FoodWasteColorScheme.high;\n\n    return (\n        <Stack alignItems=\"center\">\n            <Stack direction=\"row\" gap={1} alignItems=\"end\">\n                <Typography variant=\"h4\" color={color} display=\"inline\" mb={-0.5}>\n                    <Typography variant=\"h2\" color={color} display=\"inline\">\n                        {Math.abs(diff)}\n                    </Typography>\n\n                    &nbsp;meals\n                </Typography>\n\n                <Stack display=\"inline-flex\" direction=\"column\">\n                    <Typography variant=\"h4\" color={color} component=\"span\" mb={-1.5}>\n                        {diff > 0 ? <>▼</> : <>▲</>}\n                    </Typography>\n                    <Typography variant=\"h6\" color={color} component=\"span\">\n                        {diff > 0 ? <>less</> : <>more</>}\n                    </Typography>\n                </Stack>\n            </Stack>\n\n            <Typography variant=\"h4\" color={GREY_TEXT_CLOR}>\n                than {periodLabel}\n            </Typography>\n        </Stack>\n    );\n};\n\nexport default LatestFoodWaste;","// disable eslint for this file\n/* eslint-disable */\nimport { useRef, useEffect, useState, useContext } from 'react';\nimport * as d3 from 'd3';\nimport { Box } from '@mui/material';\n\nimport { areDOMOverlapped } from './ScreenUtils';\nimport { capitalizePhrase } from '../../../Utils/UtilFunctions';\nimport { useTheme } from '@mui/material';\nimport FoodWasteColorScheme, { GREY_TEXT_CLOR } from './FoodWasteColorScheme';\nimport { FoodWasteContext } from './FoodWasteContext';\n\nconst numberOfHoursForHistoricalData = 6;\nconst Y_AXIS_UNIT = 10;\n\nconst RecentHistoricalGraph = () => {\n  const theme = useTheme();\n  const { historical, dailyGoal } = useContext(FoodWasteContext);\n\n  const data = [\n    { historical: historical }\n  ];\n\n  const FoodWasteCategories = [\n    {\n      id: 0,\n      caterogy: \"low\",\n      color: FoodWasteColorScheme.low,\n      threshold: {\n        low: 0,\n        high: dailyGoal\n      }\n    },\n    {\n      id: 0,\n      caterogy: \"high\",\n      color: FoodWasteColorScheme.high,\n      threshold: {\n        low: dailyGoal,\n        high: Infinity\n      }\n    }\n  ]\n\n  const graphContainer = useRef();\n  const layerBackground = useRef();\n  const layerTexts = useRef();\n  const layerXaxisWrapper = useRef();\n  const layerLines = useRef();\n\n  let width, height, xAxis, yAxis;\n  let maxValue = 0;\n  let minValue = Infinity;\n  const dotRadius = 10;\n  const margin = { top: 30, right: 80, bottom: 0, left: 70 };\n\n  // Set up D3's line generator\n  const lineGenerator = d3\n    .line()\n    .x(function (d) {\n      return xAxis(d.timestamp);\n    }) // set the x values for the line generator\n    .y(function (d) {\n      return yAxis(d.value);\n    }) // set the y values for the line generator\n    .curve(d3.curveCardinal.tension(0)); // apply smoothing to the line\n\n  useEffect(() => {\n    if (!data || !historical) return;\n    if (!graphContainer.current) return;\n    if (!layerBackground.current) return;\n    if (!layerTexts.current) return;\n    if (!layerXaxisWrapper.current) return;\n    if (!layerLines.current) return;\n\n    const viewHours = data?.[0]?.metadata?.viewHours || numberOfHoursForHistoricalData;\n    const xTickInterval = Math.floor(viewHours / 6);\n\n    width = graphContainer.current.clientWidth;\n    height = graphContainer.current.clientHeight - margin.top;\n\n    // Clear all previous drawings\n    d3.select(layerBackground.current).selectAll(\"*\").remove();\n    d3.select(layerTexts.current).selectAll(\"*\").remove();\n    d3.select(layerXaxisWrapper.current).selectAll(\"*\").remove();\n    d3.select(layerLines.current).selectAll(\"*\").remove();\n\n    d3.select(layerBackground.current)\n      .attr(\"opacity\", 0.6);\n\n    Object.entries(data).forEach(([key, item]) => {\n      // Calculate the min/max value for all items\n      if (item.historical && Array.isArray(item.historical)) {\n        const max = d3.max(item.historical, function (d) {\n          return d.value;\n        });\n\n        const min = d3.min(item.historical, function (d) {\n          return d.value;\n        });\n\n        if (max > maxValue) maxValue = max;\n        if (min < minValue) minValue = min;\n      }\n    });\n\n    // Round to the nearest Y_AXIS_UNIT\n    maxValue = Math.ceil(maxValue / Y_AXIS_UNIT) * Y_AXIS_UNIT;\n    minValue = Math.floor(minValue / Y_AXIS_UNIT) * Y_AXIS_UNIT;\n\n    // Ensure min/max never align with tick steps (Y_AXIS_UNIT * 2)\n    const tickStep = Y_AXIS_UNIT * 2;\n    if (maxValue % tickStep === 0) maxValue += Y_AXIS_UNIT;\n    if (minValue % tickStep === 0) minValue -= Y_AXIS_UNIT;\n\n    // Adjust maxValue to category.threshold.high of non-Infinity categories in FoodWasteCategories\n    for (let category of FoodWasteCategories) {\n      if (maxValue >= category.threshold.low && maxValue <= category.threshold.high) {\n        maxValue = category.threshold.high === Infinity ? maxValue : category.threshold.high;\n        break;\n      }\n    };\n\n    // 1. Set up the xAxis domain and range\n    const allTimestamps = data.flatMap(d =>\n      (d.historical || []).map(h => h.timestamp)\n    );\n    const [minTs, maxTs] = d3.extent(allTimestamps);     // Compute min/max from data\n    xAxis = d3.scaleTime()\n      .domain([minTs, maxTs])\n      .rangeRound([margin.left, width - margin.right]);     // Build x-axis scale from actual data extent\n\n    // 2. Set up the yAxis domain and range\n    yAxis = d3.scaleLinear()\n      .domain([minValue, maxValue])\n      .range([height + margin.top, margin.top]); // height is already exclusive of margin\n\n    // 3. Add the background category layer and the category levels (rectangles) and the grids\n    let font_size = 50;\n    let marginText = Math.floor(font_size / 3);\n    // 4. Loop through all the FoodWasteCategories and add each category into the graph\n    for (let i = 0; i < FoodWasteCategories.length; i++) {\n      const element = FoodWasteCategories[i];\n      const upper = element.threshold.high === Infinity ? maxValue : element.threshold.high;\n      const lower = element.threshold.low;\n\n      if (maxValue <= lower) break;\n\n      // Add the rectangles\n      const categoryRange = upper - lower;\n      d3.select(layerBackground.current)\n        .append(\"rect\")\n        .attr(\"x\", 0)\n        .attr(\"y\", height - (upper / maxValue) * height + margin.top)\n        .attr(\"width\", width)\n        .attr(\"height\", categoryRange / maxValue * height)\n        .attr(\"fill\", element.color);\n\n      // Y-axis numbering: tick every Y_AXIS_UNIT * 2,\n      // starting at dailyGoal and going up/down until outside range.\n      const ticks = new Set();\n      ticks.add(dailyGoal); // Add the center tick\n\n      // Add upward and downward ticks\n      for (let v = dailyGoal + tickStep; v <= maxValue; v += tickStep) {\n        ticks.add(v);\n      }\n      for (let v = dailyGoal - tickStep; v >= minValue; v -= tickStep) {\n        ticks.add(v);\n      }\n\n      ticks.forEach(v => {\n        const isGoal = v === dailyGoal;\n        const yPos = yAxis(v);\n\n        // 1. Draw the horizontal tick\n        if (!isGoal) {\n          d3.select(layerTexts.current)\n            .append(\"line\")\n            .attr(\"x1\", 0)                      // left edge of SVG\n            .attr(\"x2\", marginText)         // stop just before the text\n            .attr(\"y1\", yPos)\n            .attr(\"y2\", yPos)\n            .attr(\"stroke\", \"#ffffff\")          // tick color\n            .attr(\"stroke-width\", 2)\n            .attr(\"filter\", \"none\");            // prevent dimming\n        }\n        // DailyGoal tick → triangle marker\n        else {\n          const size = font_size * 0.5;               // triangle size scaling\n          const centerY = yPos;\n\n          // Right-pointing triangle ▶\n          // Points: left-top, left-bottom, right-center\n          const points = [\n            `${0},${centerY - size / 2}`,\n            `${0},${centerY + size / 2}`,\n            `${size},${centerY}`\n          ].join(\" \");\n\n          d3.select(layerTexts.current)\n            .append(\"polygon\")\n            .attr(\"points\", points)\n            .attr(\"fill\", \"#fff\")   // match goal color\n            .attr(\"filter\", \"none\");\n        }\n\n        // 2. Draw the text label\n        d3.select(layerTexts.current)\n          .append(\"text\")\n          .attr(\"x\", marginText + 10)\n          .attr(\"y\", yPos)\n          .attr(\"fill\", \"#fff\")\n          .attr(\"font-size\", isGoal ? font_size : font_size / 2)\n          .attr(\"alignment-baseline\", \"middle\")\n          .attr(\"filter\", \"none\")               // ensures pure white or goal color\n          .text(v);\n      });\n    };\n\n    // 5. Add the xAxisWrapper and its texts\n    d3.select(layerXaxisWrapper.current)\n      .append(\"rect\")\n      .attr(\"x\", 0)\n      .attr(\"y\", 0)\n      .attr(\"width\", width)\n      .attr(\"height\", margin.top)\n      .attr(\"fill\", \"white\");\n\n    // 6. Add the X Axis on top of the graph, as well as ticks\n    // Floor xAxisMax to the top of the hour (e.g. 11:34 → 11:00)\n    // xAxisMax.setMinutes(0, 0, 0);\n    // // Generate tick array starting from floored max\n    // const ticks = [];\n    // for (let t = new Date(xAxisMax); t >= xAxisMin; t.setHours(t.getHours() - xTickInterval)) {\n    //   ticks.push(new Date(t));\n    // }\n    // ticks.reverse(); // earliest → latest\n    // // Now apply these ticks to the axis\n    // d3.select(layerXaxisWrapper.current)\n    //   .append(\"g\")\n    //   .attr(\"transform\", `translate(0,${margin.top})`)\n    //   .call(\n    //     d3.axisTop(xAxis)\n    //       .tickSize(-height)\n    //       .tickValues(ticks)\n    //       .tickFormat(d3.timeFormat(\"%H:%M\"))\n    //   )\n    //   .attr(\"font-size\", height / 20)\n    //   .attr(\"color\", GREY_TEXT_CLOR)\n    //   .select(\".domain\")\n    //   .remove();\n\n    d3.select(layerXaxisWrapper.current)\n      .selectAll('line')\n      .attr('stroke', 'white')\n      .attr('stroke-width', 2)\n      .attr('opacity', 0.5);\n\n    Object.entries(data).forEach(([_, sensorData], index) => {\n      // 7.1. Append the line chart for this location\n      d3.select(layerLines.current)\n        .append(\"path\")\n        .datum(sensorData.historical || [])\n        .attr(\"x\", margin.left)\n        .attr(\"class\", \"line\")\n        .attr(\"d\", lineGenerator)\n        .attr(\"fill\", \"transparent\")\n        .attr(\"stroke\", \"black\")\n        .attr(\"stroke-width\", \"5px\")\n        .attr(\"opacity\", index % 2 === 0 ? 1 : 0.5);\n\n      // 7.2. Append the circle marker at the end of this line chart to denote its liveness\n      const mostRecentData = sensorData.historical?.length > 0 ? sensorData.historical?.[0] : null;\n      if (\n        mostRecentData &&\n        mostRecentData.aqi &&\n        mostRecentData.aqi.value !== undefined &&\n        mostRecentData.aqi.value !== null &&\n        mostRecentData.timestamp\n      ) {\n        const markerWrapper = d3.select(layerLines.current)\n          .append(\"g\")\n          .attr(\n            \"transform\",\n            \"translate(\" +\n            xAxis(mostRecentData.timestamp) +\n            \",\" +\n            yAxis(mostRecentData.aqi.value) +\n            \")\"\n          )\n          .attr(\"fill\",\n            sensorData?.current?.aqi?.categoryIndex !== null ?\n              theme.palette.text.aqi[sensorData.current.aqi.categoryIndex] :\n              GREY_TEXT_CLOR\n          )\n          ;\n\n        markerWrapper.append(\"circle\")\n          .attr(\"cx\", 0)\n          .attr(\"cy\", 0)\n          .attr(\"filter\", \"brightness(0.5)\")\n          .attr(\"class\", \"pulse-ring\")\n          .attr(\"r\", 2.5 * dotRadius);\n\n        markerWrapper.append(\"circle\")\n          .attr(\"cx\", 0)\n          .attr(\"cy\", 0)\n          .attr(\"stroke\", \"#666\")\n          .attr(\"class\", \"pulse-dot\")\n          .attr(\"r\", dotRadius);\n\n        markerWrapper.append(\"text\")\n          .attr(\"class\", \"location-label\")\n          .attr(\"x\", dotRadius * 1.5)\n          .attr(\"y\", 0)\n          .attr(\"fill\", \"black\")\n          .attr(\"alignment-baseline\", \"middle\")\n          .attr(\"text-anchor\", \"left\")\n          .attr(\"font-size\", height / 25)\n          .text(capitalizePhrase(sensorData.sensor?.location_short));\n\n        const locationLabels = document.getElementsByClassName(\"location-label\");\n        for (let i = 1; i < locationLabels.length; i++) {\n          const locationLabel_1 = locationLabels[i - 1];\n          const locationLabel_2 = locationLabels[i];\n          const overlapped = areDOMOverlapped(locationLabel_1.getBoundingClientRect(), locationLabel_2.getBoundingClientRect());\n\n          if (overlapped !== 0) {\n            locationLabel_1.setAttribute(\"y\", overlapped * dotRadius);\n            locationLabel_2.setAttribute(\"y\", - overlapped * dotRadius);\n          }\n        }\n      }\n    });\n\n  }, [data])\n\n  return (\n    <Box\n      sx={{\n        '& .pulse-ring': {\n          animation: 'pulse-ring 2s cubic-bezier(0.455, 0.03, 0.515, 0.955) infinite',\n          '@keyframes pulse-ring': {\n            '0%': {\n              transform: 'scale(0.2)'\n            },\n            '80%': {},\n            '100%': {\n              opacity: 0\n            }\n          }\n        },\n        '& .pulse-dot': {\n          animation: 'pulse-dot 2s cubic-bezier(0.455, 0.03, 0.515, 0.955) infinite',\n          '@keyframes pulse-dot': {\n            '0%': {\n              transform: 'scale(0.5)'\n            },\n            '50%': {\n              transform: 'scale(1)',\n              filter: 'brightness(1.2) contrast(1.2) saturate(1.2)'\n            },\n            '100%': {\n              transform: 'scale(0.5)'\n            }\n          }\n        }\n      }}\n      width=\"100%\"\n      height=\"100%\"\n    >\n      <svg\n        id=\"recent-historical-graph\"\n        width=\"100%\"\n        height=\"100%\"\n        ref={graphContainer}\n      >\n        <g ref={layerBackground} />\n        <g ref={layerXaxisWrapper} />\n        <g ref={layerTexts} />\n        <g ref={layerLines} />\n      </svg>\n    </Box>\n\n  );\n}\n\nexport default RecentHistoricalGraph;","export const areDOMOverlapped = (rect1, rect2) => {\n  if (!(rect1.bottom < rect2.top || rect1.top > rect2.bottom)) {\n    if (rect1.top < rect2.top) return -1;\n    else return 1;\n  }\n  else return 0;\n}\n","import { useEffect, useContext } from 'react';\nimport { Box, Grid, Typography } from '@mui/material';\nimport CITIESlogoLinkToHome from '../../Components/Header/CITIESlogoLinkToHome';\nimport { ScreenContext } from '../../ContextProviders/ScreenContext';\nimport BlackScreen from './BlackScreen';\nimport QRCode from 'react-qr-code';\nimport { ProjectContext } from '../../ContextProviders/ProjectContext';\nimport LatestFoodWaste from './FoodWaste/LatestFoodWaste';\nimport RecentHistoricalGraph from './FoodWaste/RecentHistoricalGraph';\nimport { FoodWasteProvider } from './FoodWaste/FoodWasteContext';\n\nconst Screen = () => {\n  const { isLayoutReversed, shouldDisplayScreen } = useContext(ScreenContext);\n  const { project, projectID } = useContext(ProjectContext);\n\n  // Update the page's title\n  useEffect(() => {\n    if (project.title) {\n      document.title = `${project.title} Screen | CITIES Dashboard`;\n    }\n  }, [project]);\n  if (!shouldDisplayScreen) return <BlackScreen />\n\n  return (\n    <FoodWasteProvider>\n      <Grid\n        container\n        alignContent=\"stretch\"\n        alignItems=\"stretch\"\n        height=\"100vh\"\n        sx={{\n          cursor: 'none',\n          overflow: 'hidden',\n          background: \"white\",\n          '& *': {\n            fontWeight: '500 !important'\n          },\n          '& .condensedFont': {\n            fontFamily: 'IBM Plex Sans Condensed, sans-serif !important',\n            '& *': {\n              fontFamily: 'IBM Plex Sans Condensed, sans-serif !important'\n            }\n          }\n        }}\n      >\n        <Grid\n          item\n          xs={6}\n          sx={{\n            order: isLayoutReversed ? 1 : 0,\n            background: '#212529'\n          }}\n        >\n          {projectID === \"food-waste\" && <LatestFoodWaste />}\n        </Grid>\n\n        <Grid item xs={6} sx={{ order: isLayoutReversed ? 0 : 1 }}>\n          <Box\n            sx={{\n              position: 'absolute',\n              top: 0,\n              right: !isLayoutReversed && 0,\n              left: isLayoutReversed && 0,\n              width: '5vw',\n              height: '5vw',\n              m: 1\n            }}\n          >\n            <CITIESlogoLinkToHome />\n          </Box>\n          <Grid\n            container\n            alignContent=\"space-between\"\n            justifyContent=\"center\"\n            height=\"100%\"\n            textAlign=\"center\"\n          >\n            <Grid item xs={12} sx={{ pt: 3, px: 2 }}>\n              <Typography variant=\"h2\" sx={{ color: 'black' }}>\n                CITIES Dashboard\n              </Typography>\n            </Grid>\n\n            <Grid item xs={2}>\n              <Box height=\"auto\" width=\"90%\">\n                <QRCode\n                  size={256}\n                  style={{ height: \"auto\", maxWidth: \"100%\", width: \"100%\" }}\n                  value={`https://citiesdashboard.com/project/${projectID}`}\n                  viewBox={`0 0 256 256`}\n                />\n              </Box>\n            </Grid>\n            <Grid\n              item\n              xs={12}\n              height=\"70%\"\n              className='condensedFont'\n              sx={{ '& *': { fontWeight: '600 !important' } }}\n            >\n              {projectID === \"food-waste\" && <RecentHistoricalGraph />}\n            </Grid>\n          </Grid>\n\n        </Grid>\n      </Grid>\n    </FoodWasteProvider>\n\n  )\n};\n\nexport default Screen;\n"],"names":["Grid","container","alignContent","alignItems","height","sx","overflow","background","colors","GREY_TEXT_CLOR","FoodWasteContext","createContext","FoodWasteProvider","children","project","useMemo","data","p","id","google","useContext","GoogleContext","useState","historical","setHistorical","lastWeek","setLastWeek","lastSemester","dailyGoal","setDailyGoal","useEffect","fetchDataFromSheet","chartData","screen","dailyFoodWasteGoal","sheetId","then","response","Math","round","Ta","Wf","c","v","catch","error","console","log","map","item","timestamp","Date","value","providerValue","Provider","FoodWasteComparison","current","comparedWith","periodLabel","currentMeals","diff","color","FoodWasteColorScheme","Stack","direction","gap","Typography","variant","display","mb","abs","component","isLayoutReversed","ScreenContext","latestFoodWaste","colorForLatestFoodWaste","ratio","justifyContent","textAlign","py","px","fontWeight","mode","flex","opacity","animation","width","className","toLocaleDateString","year","month","day","xs","Y_AXIS_UNIT","xAxis","yAxis","theme","useTheme","FoodWasteCategories","caterogy","threshold","low","high","Infinity","graphContainer","useRef","layerBackground","layerTexts","layerXaxisWrapper","layerLines","maxValue","minValue","margin","lineGenerator","d3","x","d","y","curve","viewHours","metadata","floor","clientWidth","clientHeight","selectAll","remove","attr","Object","entries","forEach","Array","isArray","max","min","ceil","tickStep","category","allTimestamps","flatMap","h","minTs","maxTs","domain","rangeRound","range","marginText","i","length","element","upper","lower","categoryRange","append","ticks","Set","add","isGoal","yPos","centerY","points","size","font_size","join","text","index","sensorData","datum","rect1","rect2","mostRecentData","aqi","undefined","markerWrapper","categoryIndex","palette","dotRadius","capitalizePhrase","sensor","location_short","locationLabels","document","getElementsByClassName","locationLabel_1","locationLabel_2","overlapped","getBoundingClientRect","bottom","top","setAttribute","Box","transform","filter","ref","shouldDisplayScreen","ProjectContext","projectID","title","cursor","fontFamily","order","position","right","left","m","CITIESlogoLinkToHome","pt","style","maxWidth","viewBox"],"sourceRoot":""}